<div class="width pad-bottom-xxl">
  <ng-template tdLoading [tdLoadingUntil]="!isLoading" tdLoadingStrategy="overlay">
    <md-card>
      <md-card-title fxLayout="row">
        <button md-raised-button color="primary" (click)="this.location.back()">Back</button>
        <div fxFlexOffset="20%" fxFlexAlign="center">
          {{wgName}} - {{workGroup.mpSpStatus}}
        </div>
        <span fxFlex></span>
        <button md-raised-button *ngIf="workGroup.mpSpStatus === statusMap.underReview || workGroup.mpSpStatus === statusMap.reviewed" (click)="this.reopenFlight()">{{reopenBtnText}}</button>
        <button md-raised-button *ngIf="workGroup.mpSpStatus === statusMap.open || workGroup.mpSpStatus === statusMap.underReview || workGroup.mpSpStatus === statusMap.reviewed" (click)="this.reviewFlight()" [ngClass]="canReview ? 'can-review' : 'no-review'" [disabled]="workGroup.mpSpStatus === statusMap.created">{{reviewBtnText}}</button>
        <button md-icon-button (click)="this.refreshData()"><md-icon>autorenew</md-icon></button>
      </md-card-title>
      <md-tab-group [(selectedIndex)]="tabIndex">
        <md-tab>
          <ng-template md-tab-label>
            <md-icon class="tab-icon">assessment</md-icon>
            Assess
            <md-icon class="small-tab-icon" *ngIf="workGroup.mpSpStatus !== statusMap.published" [ngClass]="(assessComplete) ? 'tc-green-700' : 'tc-red-700'">{{assessStatusIcon}}</md-icon>
          </ng-template>
          <assess [members]="members"></assess>
        </md-tab>
        <md-tab>
          <ng-template md-tab-label>
            <md-icon class="tab-icon">format_list_numbered</md-icon>
            Strat
            <md-icon class="small-tab-icon" *ngIf="workGroup.mpSpStatus !== statusMap.published" [ngClass]="(stratComplete) ? 'tc-green-700' : 'tc-red-700'">{{stratStatusIcon}}</md-icon>
          </ng-template>
          <strat [members]="members"></strat>
        </md-tab>
        <md-tab [disabled]="!showComments">
          <ng-template md-tab-label>
            <md-icon class="tab-icon">comment</md-icon>
            Review Comments
            <md-icon class="small-tab-icon" *ngIf="!showComments && workGroup.mpSpStatus !== statusMap.published">lock</md-icon>
            <md-icon class="small-tab-icon" *ngIf="showComments && workGroup.mpSpStatus !== statusMap.published" [ngClass]="(commentsComplete) ? 'tc-green-700' : 'tc-red-700'">{{commentStatusIcon}}</md-icon>
          </ng-template>
          <comments *ngIf="showComments" [members]="members"></comments>
        </md-tab>
      </md-tab-group>
    </md-card>
  </ng-template>
</div>
<a style="z-index: 9999;" md-fab color="primary" class="mat-fab-bottom-right fixed" [routerLink]="['../../status', workGroupId]" *ngIf="workGroup.mpSpStatus !== statusMap.published"
mdTooltip="Go To Status" mdTooltipPosition="left">
  <md-icon>check_circle</md-icon>
</a>
<a style="z-index: 9999;" md-fab color="primary" class="mat-fab-bottom-right fixed" [routerLink]="['../../results', workGroupId]" *ngIf="workGroup.mpSpStatus === statusMap.published"
mdTooltip="Go To Results" mdTooltipPosition="left">
  <md-icon>data_usage</md-icon>
</a>